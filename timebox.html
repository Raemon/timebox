<head>
  <title>timebox</title>
  <link rel="icon" 
        type="image/png" 
        href="/time.png">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <div id="wrapper">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
              {{> userInfo}}
            </ul>
        </div>

        <!-- Page content -->
        <div id="page-content-wrapper">
          <h2 class="title">Get In the Zone</h2>
          {{> currentTimebox}}
        </div>
    </div>

    <!-- {{> starfield}} -->
   <!--  <div class="row">
      <div class="span-9 pull-right main text-center">
        {{> currentTimebox}}
      </div>
      {{> userInfo}}

    </div> -->
<!--     
    <div class="wrapper">
      <div class="row">
        <div class="col-md-2">
          {{> header}}
          {{> userInfo}}
        </div>
        <div class="col-md-6">
          {{> currentTimebox}}
        </div>
      </div>
    </div>
    {{>footer}} -->

</body>

<template name="header">
  <div class="text-center">
    <h1 class="title header">Get in the Zone</h1>
  </div>
</template>

<template name="currentTimebox">
  <div class="currentTimebox text-center">

      <div id="timer" class="timer {{settingTimer}}">{{timeRemaining}}</div> 
      <div class="setTimer {{settingTimer}}">
        <select class="timerSelect" id="minutesSelect" value="25">
          {{#each range 59}}
            <option class="timerSelect" value="{{this}}">{{zfill this 2}}</option>
          {{/each}}
        </select>
        :
        <select class="timerSelect" id="secondsSelect" value="0">
          {{#each range 59}}
            <option value="{{this}}">{{zfill this 2}}</option>
          {{/each}}
        </select>
      </div>
      {{> timerButtons}}
      <input class="text-center strong" name="tags" id="tagsField" value="uncategorized,"/>
  </div>
  <script>
    $("#tagsField").tagsInput();
  </script>
</template>

<template name="userInfo">
  <div class="userInfo sidebar pull-left">
      <div class="loginBox">{{> login}}</div>
      {{#if userAddress}}
        {{> oldTimeboxes}}
      {{/if}}
  </div>
</template>

<template name="timerButtons">
    <div class="btn btn-large timer-set {{settingTimer}}">Set</div>
    <div class="btn btn-large btn-primary timer-start ">Start</div>
    <div class="btn btn-large btn-danger timer-stop">Stop</div>
</template>

<template name="oldTimeboxes">
  {{#each userTimeboxes}}
    {{> timeboxData}}
  {{/each}}
</template>

<template name="timeboxData">
  <div id="timeboxData{{this._id}}" class="timebox {{bgcolor}}">
      <div class="timeboxData_right">
        <div class="btn repeatTimebox">
          Repeat
        </div>
      </div>
      <div class="timeboxData_left">
        <div class="timeboxDuration">
          {{duration}} - 
          <span class="timebox{{complete}}">{{complete}}</span>
        </div>
        {{create_date}} - {{create_time}}<br>

        Tags: {{tags}}<br>
    </div>

  </div>
</template>

<template name="footer">
  <div class="footer">
    The End
<!--     {{> mochaTestReport}}
    {{> serverTestReport}} -->
  </div>
</template>

<template name="starfield">
  <div id="starfield">
  </div>
  <script src="starfield.js"></script>
  <script>

  var container = document.getElementById('starfield');
  var starfield = new Starfield();
  starfield.initialise(container);
  starfield.start();
  </script>
</template>
